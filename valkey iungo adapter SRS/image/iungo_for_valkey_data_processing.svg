<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="796.5" height="346.5" viewBox="-0.5 -0.5 531 231" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<!-- <svg width="100" height="100" viewBox="240 10 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> -->

<!-- color pattern
  https://coolors.co/cae7b9-f3de8a-eb9486-7e7f9a-dcdfe5-97a7b3
-->
<!-- <svg width="796.5" height="391.5" viewBox="-0.5 -30.5 531 261" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> -->
  <g>
    <rect x="0"   y="-30"  width="20" height="30" fill="#CAE7B9" />
    <rect x="20"  y="-30"  width="20" height="30" fill="#F3DE8A" />
    <rect x="40"  y="-30"  width="20" height="30" fill="#EB9486" />
    <rect x="60"  y="-30"  width="20" height="30" fill="#7E7F9A" />
    <rect x="80"  y="-30"  width="20" height="30" fill="#DCDFE5" />
    <rect x="100" y="-30"  width="20" height="30" fill="#97A7B3" />
  </g>


  <style>
    text {
      font-family: sans-serif,Verdana,Tahoma;
    }

    .service_name {
      fill: #7E7F9A;
      font-weight: bold;
      font-size: 10px;
    }

    .text-xs {
      font-weight: bold;
      font-size: 5px;
    }

    .text-s {
      font-weight: bold;
      font-size: 7px;
    }

    .text-m {
      font-weight: bold;
      font-size: 11px;
    }

    .text-l {
      font-weight: bold;
      font-size: 18px;
    }

    @keyframes forward-dash {
      to {
        stroke-dashoffset: -1000;
      }
    }
    .forward-dash {
      animation: forward-dash 30s linear infinite;
    }

    @keyframes backward-dash {
      to {
        stroke-dashoffset: 1000;
      }
    }
    .backward-dash {
      animation: backward-dash 30s linear infinite;
    }

    .event_stream {
      stroke: lightgray;
      stroke-width: 5;
      stroke-dasharray: 3 2;
    }

    .business_stream {
      stroke-dasharray: 8;
    }

    .internet_stream {
      stroke-dasharray: 1 12;
    }

    g.service:hover .highlight {
      stroke: orange;
    }

    g.service:hover text.highlight {
      stroke: none;
      fill: orange;
    }

    g.service:hover .highlight-block {
      fill: orange;
    }

    .glow-eb9486 {
      filter: drop-shadow(0 0 1.5px #EB9486)
    }
  </style>

  <rect fill="#fff" stroke="#000" x="0" y="0" width="530" height="230" />


  <g>
    <!-- START -> Receiving Keyspace Notification events -->
    <path class="business_stream forward-dash" d="m45 110 l45 0" fill="transparent" stroke="#666666" stroke-width="2" />
    <!-- Receiving Keyspace Notification events <-> Key Pattern Routing -->
    <path class="business_stream forward-dash" d="m170 110 l80 0" fill="transparent" stroke="#666666" stroke-width="2" />
    <!-- Key Pattern Routing <-> Processing Data -->
    <path class="business_stream forward-dash" d="m330 110 l80 0" fill="transparent" stroke="#666666" stroke-width="2" />

    <!-- sending events -->
    <g>
      <g visibility="hidden">
        <text x="33" y="87" font-size="7px" font-weight="bold" fill="#97A7B3">NOTIFY_GENERIC</text>
        <animate attributeType="CSS"
          attributeName="visibility"
          values="hidden;visible;hidden;hidden"
          keyTimes="0; 0.05; 0.45; 1"
          dur="6s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0 ; 0,0 ; 0,-10; 0,-10; 0,-20; 0,-20; 0,-30; 0,-30"
          keyTimes="0  ; 0.05; 0.14; 0.15 ; 0.17 ; 0.18 ; 0.19 ; 0.20 ; 1"
          dur="6s"
          repeatCount="indefinite" />
      </g>
      <g visibility="hidden">
        <text x="33" y="87" font-size="7px" font-weight="bold" fill="#97A7B3">NOTIFY_STRING</text>
        <animate attributeType="CSS"
          attributeName="visibility"
          values="hidden;visible;hidden;hidden"
          keyTimes="0; 0.15; 0.5; 1"
          dur="6s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0 ; 0,-10; 0,-10; 0,-20; 0,-20; 0,-30; 0,-30"
          keyTimes="0  ; 0.17; 0.18 ; 0.19 ; 0.20 ; 0.45 ; 0.46 ; 1"
          dur="6s"
          repeatCount="indefinite" />
      </g>
      <g visibility="hidden">
        <text x="33" y="87" font-size="7px" font-weight="bold" fill="#97A7B3">NOTIFY_LIST</text>
        <animate attributeType="CSS"
          attributeName="visibility"
          values="hidden;visible;hidden;hidden"
          keyTimes="0; 0.17; 0.57; 1"
          dur="6s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0 ; 0,-10; 0,-10; 0,-20; 0,-20; 0,-30; 0,-30"
          keyTimes="0  ; 0.19; 0.20 ; 0.45 ; 0.46 ; 0.5  ; 0.51 ; 1"
          dur="6s"
          repeatCount="indefinite" />
      </g>
      <g visibility="hidden">
        <text x="33" y="87" font-size="7px" font-weight="bold" fill="#97A7B3">NOTIFY_SET</text>
        <animate attributeType="CSS"
          attributeName="visibility"
          values="hidden;visible;hidden;hidden"
          keyTimes="0; 0.19; 0.59; 1"
          dur="6s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0 ; 0,-10; 0,-10; 0,-20; 0,-20"
          keyTimes="0  ; 0.45; 0.46 ; 0.5  ; 0.51 ; 1"
          dur="6s"
          repeatCount="indefinite" />
      </g>
      <g visibility="hidden">
        <text x="33" y="87" font-size="7px" font-weight="bold" fill="#97A7B3">NOTIFY_HASH</text>
        <animate attributeType="CSS"
          attributeName="visibility"
          values="hidden;visible;hidden;hidden"
          keyTimes="0; 0.45; 0.85; 1"
          dur="6s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0; 0,-10; 0,-10; 0,-20; 0,-20"
          keyTimes="0  ; 0.5; 0.51 ; 0.6  ; 0.61 ; 1"
          dur="6s"
          repeatCount="indefinite" />
      </g>
      <g visibility="hidden">
        <text x="33" y="87" font-size="7px" font-weight="bold" fill="#97A7B3">NOTIFY_STREAM</text>
        <animate attributeType="CSS"
          attributeName="visibility"
          values="hidden;visible;hidden;hidden"
          keyTimes="0; 0.5; 0.9; 1"
          dur="6s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0; 0,-10; 0,-10"
          keyTimes="0  ; 0.6; 0.61 ; 1"
          dur="6s"
          repeatCount="indefinite" />
      </g>
      <g visibility="hidden">
        <text x="33" y="87" class="text-s" fill="#97A7B3">NOTIFY_EXPIRED</text>
        <animate attributeType="CSS"
          attributeName="visibility"
          values="hidden;visible;hidden"
          keyTimes="0; 0.6; 1"
          dur="6s"
          repeatCount="indefinite"/>
      </g>

      <use xlink:href="#lightning" x="47" y="97" transform="translate(0,0)" fill="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "visible; hidden; hidden"
          keyTimes="0; 0.4; 1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 32,0; 32,0"
          keyTimes="0  ; 0.4; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
      <use xlink:href="#lightning" x="47" y="97" transform="translate(0,0)" fill="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "hidden; visible; hidden; hidden"
          keyTimes="0; 0.16; 0.56; 1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0 ; 32,0; 32,0"
          keyTimes="0  ; 0.16; 0.56; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
      <use xlink:href="#lightning" x="47" y="97" transform="translate(0,0)" fill="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "hidden; visible; hidden; hidden"
          keyTimes="0; 0.26; 0.66; 1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0 ; 32,0; 32,0"
          keyTimes="0  ; 0.26; 0.66; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
      <use xlink:href="#lightning" x="47" y="97" transform="translate(0,0)" fill="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "hidden; visible; hidden; hidden"
          keyTimes="0; 0.48; 0.98; 1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0 ; 32,0; 32,0"
          keyTimes="0  ; 0.48; 0.98; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
    </g>

    <!-- sending keys -->
    <g>
      <use xlink:href="#key" x="173" y="96" stroke="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "hidden; visible; hidden"
          keyTimes="0; 0.7;  1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0; 40.8,0;"
          keyTimes="0  ; 0.7; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
      <use xlink:href="#key" x="173" y="96" stroke="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "visible; hidden; hidden"
          keyTimes="0; 0.2; 1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="40.8,0; 68,0; 68,0"
          keyTimes="0   ; 0.2; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
      <use xlink:href="#key" x="173" y="96" stroke="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "visible; hidden; hidden"
          keyTimes="0; 0.5; 1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 68,0; 68,0"
          keyTimes="0  ; 0.5; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
      <use xlink:href="#key" x="173" y="96" stroke="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "hidden; visible; hidden; hidden"
          keyTimes="0; 0.2; 0.7; 1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0; 68,0; 68,0"
          keyTimes="0  ; 0.2; 0.7; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
      <use xlink:href="#key" x="173" y="96" stroke="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "hidden; visible; hidden; hidden"
          keyTimes="0; 0.3; 0.8; 1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0 ; 68,0; 68,0"
          keyTimes="0  ; 0.3; 0.8; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
      <use xlink:href="#key" x="173" y="96" stroke="orange" visibility="hidden">
        <animate attributeType="CSS"
          attributeName="visibility"
          values=  "hidden; visible; hidden; hidden"
          keyTimes="0; 0.45; 0.95; 1"
          dur="3s"
          repeatCount="indefinite"/>
        <animateTransform attributeName="transform"
          type="translate"
          values  ="0,0; 0,0 ; 68,0; 68,0"
          keyTimes="0  ; 0.45; 0.95; 1"
          dur="3s"
          repeatCount="indefinite" />
      </use>
    </g>

    <!-- matching keys -->
    <g transform="translate(200, 10)">
      <!-- key:foo -->
      <g visibility="hidden">
        <text x="33" y="82" font-size="8px" font-weight="bold" fill="#97A7B3">foo
          <animate attributeType="CSS"
            attributeName="visibility"
            values="visible;visible;hidden;hidden"
            keyTimes="    0;  0.025;  0.45; 1"
            dur="20s"
            repeatCount="indefinite"/>
          <animate
            attributeName="font-size"
            values  ="8; 8    ; 16    ; 16"
            keyTimes="0; 0.025; 0.0375; 1"
            dur="20s"
            repeatCount="indefinite"/>
          <animate
            attributeName="x"
            values  ="33; 33   ; 27    ; 27   ; 107 ; 107"
            keyTimes="0 ; 0.025; 0.0375; 0.375; 0.45; 1"
            dur="20s"
            repeatCount="indefinite"/>
          <animate
            attributeName="y"
            values  ="82; 28   ; 28"
            keyTimes="0 ; 0.025; 1"
            dur="20s"
            repeatCount="indefinite"/>
        </text>

        <g visibility="hidden">
          <clipPath id="key-foo">
            <text x="27" y="28" font-size="16px" font-weight="bold" fill="white">foo</text>
          </clipPath>
          <path d="m20 22 h40" stroke="#7E7F9A" stroke-width="20">
            <animate
              attributeName="stroke-width"
              values=  "0; 0     ; 20    ; 20   ; 0    ; 0"
              keyTimes="0; 0.0425; 0.0625; 0.335; 0.375; 1"
              dur="20s"
              repeatCount="indefinite" />
          </path>
          <rect x="20" y="12" width="40" height="20" clip-path="url(#key-foo)" fill="white">
            <animate
              attributeName="y"
              values=  "22; 22    ; 12    ; 12   ; 22   ; 42"
              keyTimes="0 ; 0.0425; 0.0625; 0.355; 0.375; 1"
              dur="20s"
              repeatCount="indefinite" />
            <animate
              attributeName="height"
              values=  "0; 0     ; 20    ; 20   ; 0    ; 0"
              keyTimes="0; 0.0425; 0.0625; 0.375; 0.395; 1"
              dur="20s"
              repeatCount="indefinite" />
            <animate
              attributeName="opacity"
              values=  "1; 1   ; 0.1  ; 0.1 ; 1    ; 1   ; 0.1  ; 0.1 ; 1    ; 1   ; 0.1  ; 0.1 ; 1    ; 1"
              keyTimes="0; 0.07; 0.075; 0.12; 0.125; 0.17; 0.175; 0.22; 0.225; 0.27; 0.275; 0.32; 0.325; 1"
              dur="20s"
              repeatCount="indefinite" />
          </rect>

          <animate attributeType="CSS"
            attributeName="visibility"
            values="hidden;visible;hidden;hidden"
            keyTimes="   0; 0.0425; 0.375;1"
            dur="20s"
            repeatCount="indefinite" />
        </g>

        <g>
          <clipPath id="key-patten-foo-mask-set" transform="translate(0,0)">
            <text x="27" y="08" font-size="16px" font-weight="bold">h *</text>
            <text x="27" y="28" font-size="16px" font-weight="bold">t *</text>
            <text x="27" y="48" font-size="16px" font-weight="bold">f *</text>

            <animateTransform
              attributeName="transform"
              type="translate"
              values=  "0,40; 0,40 ; 0,20; 0,20 ; 0,0; 0,0  ; 0,-20; 0,-20"
              keyTimes="0   ; 0.075; 0.1 ; 0.175; 0.2; 0.275; 0.3  ; 1"
              dur="20s"
              repeatCount="indefinite" />
          </clipPath>
          <g clip-path="url(#key-patten-foo-mask-set)">
            <text x="27" y="28" font-size="16px" font-weight="bold" fill="#EB9486">f</text>
            <rect x="20" y="12" width="40" height="20" fill="#EB9486">
              <animate attributeType="CSS"
                attributeName="visibility"
                values="hidden;visible;hidden;visible;hidden;visible;hidden;hidden"
                keyTimes="   0; 0.0625; 0.125; 0.1625; 0.225; 0.2625; 0.325;1"
                dur="20s"
                repeatCount="indefinite"/>
            </rect>
          </g>

          <animate attributeType="CSS"
            attributeName="visibility"
            values="hidden;visible;hidden;hidden"
            keyTimes="   0; 0.0625; 0.375;1"
            dur="20s"
            repeatCount="indefinite" />
        </g>

        <g>
          <clipPath id="key-pattern-foo-set" transform="translate(0,0)">
            <text x="107" y="08" font-size="16px" font-weight="bold">h *</text>
            <text x="107" y="28" font-size="16px" font-weight="bold">t *</text>
            <text x="107" y="48" font-size="16px" font-weight="bold">f *</text>

            <animateTransform
              attributeName="transform"
              type="translate"
              values=  "0,40; 0,40 ; 0,20; 0,20 ; 0,0; 0,0  ; 0,-20; 0,-20"
              keyTimes="0   ; 0.075; 0.1; 0.175; 0.2  ; 0.275; 0.3  ; 1"
              dur="20s"
              repeatCount="indefinite" />
          </clipPath>
          <path d="m100 16 a4 4 0 0 1 4 -4 h32 a4 4 0 0 1 4 4 v12 a4 4 0 0 1 -4 4  h-32 a4 4 0 0 1 -4 -4" fill="white" stroke="#7E7F9A" />
          <rect x="100" y="12" width="40" height="20" clip-path="url(#key-pattern-foo-set)" fill="#7E7F9A">
          </rect>

          <animate attributeType="CSS"
            attributeName="visibility"
            values="hidden;visible;hidden;hidden"
            keyTimes="   0;  0.0625;  0.475;1"
            dur="20s"
            repeatCount="indefinite" />
          <animate
            attributeName="opacity"
            values=  "0.5; 0.5   ; 0.55 ; 0.55  ; 0.5  ; 0.5   ; 0.7  ; 0.7   ; 0.5  ; 0.5   ; 1    ; 1"
            keyTimes="0  ; 0.1125; 0.125; 0.1625; 0.175; 0.2125; 0.225; 0.2625; 0.275; 0.3125; 0.325; 1"
            dur="20s"
            repeatCount="indefinite" />
        </g>

        <g>
          <clipPath id="key-patten-foo-rank" transform="translate(0,0)">
            <text x="75" y="06" font-size="12px" font-weight="bold">--</text>
            <text x="70" y="26" font-size="12px" font-weight="bold">55%</text>
            <text x="70" y="46" font-size="12px" font-weight="bold">70%</text>
            <text x="64" y="66" font-size="12px" font-weight="bold">100%</text>

            <animateTransform
              attributeName="transform"
              type="translate"
              values=  "0,20; 0,20  ; 0,0 ; 0,0  ; 0,-20  ; 0,-20   ; 0,-40; 0,-40"
              keyTimes="0   ; 0.1125; 0.125; 0.2125; 0.225; 0.3125; 0.325; 1"
              dur="20s"
              repeatCount="indefinite" />
          </clipPath>
          <g clip-path="url(#key-patten-foo-rank)">
            <rect x="60" y="12" width="40" height="20" fill="#97A7B3">
            </rect>

            <animate attributeType="CSS"
              attributeName="visibility"
              values="hidden;visible;hidden;hidden"
              keyTimes="   0; 0.0625; 0.375;1"
              dur="20s"
              repeatCount="indefinite" />
          </g>

          <text class="glow-eb9486" x="100" y="8" font-size="9px" fill="#EB9486">
            matched!!

            <animate
              attributeName="fill"
              values="#F3DE8A;#F3DE8A;#EB9486;#EB9486"
              keyTimes="    0;  0.325;  0.475;1"
              dur="20s"
              repeatCount="indefinite" />
            <animate attributeType="CSS"
              attributeName="visibility"
              values="hidden;visible;hidden;hidden"
              keyTimes="   0;  0.326; 0.475;1"
              dur="20s"
              repeatCount="indefinite" />
          </text>
        </g>

        <animate attributeType="CSS"
          attributeName="visibility"
          values="visible;visible;hidden;hidden"
          keyTimes="    0;  0.025; 0.475; 1"
          dur="20s"
          repeatCount="indefinite"/>
      </g>

      <!-- key:bar -->
      <g visibility="hidden">
        <text x="33" y="82" font-size="8px" font-weight="bold" fill="#97A7B3">bar
          <animate attributeType="CSS"
            attributeName="visibility"
            values="hidden;visible;visible;hidden;hidden"
            keyTimes="   0;    0.5;  0.525;  0.95; 1"
            dur="20s"
            repeatCount="indefinite"/>
          <animate
            attributeName="font-size"
            values  ="8; 8    ; 16    ; 16"
            keyTimes="0; 0.525; 0.5375; 1"
            dur="20s"
            repeatCount="indefinite"/>
          <animate
            attributeName="x"
            values  ="33; 33   ; 27    ; 27   ; 107 ; 107"
            keyTimes="0 ; 0.525; 0.5375; 0.875; 0.95; 1"
            dur="20s"
            repeatCount="indefinite"/>
          <animate
            attributeName="y"
            values  ="82; 82 ; 28   ; 28"
            keyTimes="0 ; 0.5; 0.525; 1"
            dur="20s"
            repeatCount="indefinite"/>
        </text>

        <g visibility="hidden">
          <clipPath id="key-bar">
            <text x="27" y="28" font-size="16px" font-weight="bold" fill="white">bar</text>
          </clipPath>
          <path d="m20 22 h40" stroke="#7E7F9A" stroke-width="20">
            <animate
              attributeName="stroke-width"
              values=  "0; 0     ; 20    ; 20   ; 0    ; 0"
              keyTimes="0; 0.5425; 0.5625; 0.835; 0.875; 1"
              dur="20s"
              repeatCount="indefinite" />
          </path>
          <rect x="20" y="12" width="40" height="20" clip-path="url(#key-bar)" fill="white">
            <animate
              attributeName="y"
              values=  "22; 22    ; 12    ; 12   ; 22   ; 22"
              keyTimes="0 ; 0.5425; 0.5625; 0.855; 0.875; 1"
              dur="20s"
              repeatCount="indefinite" />
            <animate
              attributeName="height"
              values=  "0; 0     ; 20    ; 20   ; 0    ; 0"
              keyTimes="0; 0.5425; 0.5625; 0.875; 0.895; 1"
              dur="20s"
              repeatCount="indefinite" />
            <animate
              attributeName="opacity"
              values=  "1; 1   ; 0.1  ; 0.1 ; 1    ; 1   ; 0.1  ; 0.1 ; 1    ; 1   ; 0.1  ; 0.1 ; 1    ; 1"
              keyTimes="0; 0.57; 0.575; 0.62; 0.625; 0.67; 0.675; 0.72; 0.725; 0.77; 0.775; 0.82; 0.825; 1"
              dur="20s"
              repeatCount="indefinite" />
          </rect>

          <animate attributeType="CSS"
            attributeName="visibility"
            values="hidden;visible;hidden;hidden"
            keyTimes="   0; 0.5425; 0.875;1"
            dur="20s"
            repeatCount="indefinite" />
        </g>

        <g>
          <clipPath id="key-patten-bar-mask-set" transform="translate(0,20)">
            <text x="27" y="08" font-size="16px" font-weight="bold">p *</text>
            <text x="27" y="28" font-size="16px" font-weight="bold">h *</text>
            <text x="27" y="48" font-size="16px" font-weight="bold">b *</text>

            <animateTransform
              attributeName="transform"
              type="translate"
              values=  "0,40; 0,40 ; 0,20; 0,20 ; 0,0; 0,0  ; 0,-20; 0,-20"
              keyTimes="0   ; 0.575; 0.6 ; 0.675; 0.7; 0.775; 0.8  ; 1"
              dur="20s"
              repeatCount="indefinite" />
          </clipPath>
          <g clip-path="url(#key-patten-bar-mask-set)">
            <text x="27" y="28" font-size="16px" font-weight="bold" fill="#EB9486">b</text>
            <rect x="20" y="12" width="40" height="20" fill="#EB9486">
              <animate attributeType="CSS"
                attributeName="visibility"
                values="hidden;visible;hidden;visible;hidden;visible;hidden;hidden"
                keyTimes="   0; 0.5625; 0.625; 0.6625; 0.725; 0.7625; 0.825;1"
                dur="20s"
                repeatCount="indefinite"/>
            </rect>
          </g>

          <animate attributeType="CSS"
            attributeName="visibility"
            values="hidden;visible;hidden;hidden"
            keyTimes="   0; 0.5625; 0.875;1"
            dur="20s"
            repeatCount="indefinite" />
        </g>

        <g>
          <clipPath id="key-pattern-bar-set" transform="translate(0,20)">
            <text x="107" y="08" font-size="16px" font-weight="bold">p *</text>
            <text x="107" y="28" font-size="16px" font-weight="bold">h *</text>
            <text x="107" y="48" font-size="16px" font-weight="bold">b *</text>

            <animateTransform
              attributeName="transform"
              type="translate"
              values=  "0,40; 0,40 ; 0,20; 0,20 ; 0,0; 0,0  ; 0,-20; 0,-20"
              keyTimes="0   ; 0.575; 0.6 ; 0.675; 0.7; 0.775; 0.8  ; 1"
              dur="20s"
              repeatCount="indefinite" />
          </clipPath>
          <path d="m100 16 a4 4 0 0 1 4 -4 h32 a4 4 0 0 1 4 4 v12 a4 4 0 0 1 -4 4  h-32 a4 4 0 0 1 -4 -4" fill="white" stroke="#7E7F9A" />
          <rect x="100" y="12" width="40" height="20" clip-path="url(#key-pattern-bar-set)" fill="#7E7F9A">
          </rect>

          <animate attributeType="CSS"
            attributeName="visibility"
            values="hidden;visible;hidden;hidden"
            keyTimes="   0;  0.5625;  0.975;1"
            dur="20s"
            repeatCount="indefinite" />
          <animate
            attributeName="opacity"
            values=  "0.5; 0.5   ; 0.6  ; 0.6   ; 0.5  ; 0.5   ; 0.65 ; 0.65  ; 0.5  ; 0.5   ; 1    ; 1"
            keyTimes="0  ; 0.6125; 0.625; 0.6625; 0.675; 0.7125; 0.725; 0.7625; 0.775; 0.8125; 0.825; 1"
            dur="20s"
            repeatCount="indefinite" />
        </g>

        <g>
          <clipPath id="key-patten-bar-rank" transform="translate(0,20)">
            <text x="75" y="06" font-size="12px" font-weight="bold">--</text>
            <text x="70" y="26" font-size="12px" font-weight="bold">60%</text>
            <text x="70" y="46" font-size="12px" font-weight="bold">65%</text>
            <text x="64" y="66" font-size="12px" font-weight="bold">100%</text>

            <animateTransform
              attributeName="transform"
              type="translate"
              values=  "0,20; 0,20  ; 0,0  ; 0,0   ; 0,-20; 0,-20 ; 0,-40; 0,-40"
              keyTimes="0   ; 0.6125; 0.625; 0.7125; 0.725; 0.8125; 0.825; 1"
              dur="20s"
              repeatCount="indefinite" />
          </clipPath>
          <g clip-path="url(#key-patten-bar-rank)">
            <rect x="60" y="12" width="40" height="20" fill="#97A7B3">
            </rect>

            <animate attributeType="CSS"
              attributeName="visibility"
              values="hidden;visible;hidden;hidden"
              keyTimes="   0; 0.5625; 0.875;1"
              dur="20s"
              repeatCount="indefinite" />
          </g>

          <text class="glow-eb9486" x="100" y="8" font-size="9px" fill="#EB9486">
            matched!!

            <animate
              attributeName="fill"
              values="#F3DE8A;#F3DE8A;#EB9486;#EB9486"
              keyTimes="    0;  0.825;  0.975;1"
              dur="20s"
              repeatCount="indefinite" />
            <animate attributeType="CSS"
              attributeName="visibility"
              values="hidden;visible;hidden;hidden"
              keyTimes="   0;  0.826; 0.975;1"
              dur="20s"
              repeatCount="indefinite" />
          </text>
        </g>

        <animate attributeType="CSS"
          attributeName="visibility"
          values="visible;visible;hidden;hidden"
          keyTimes="    0;  0.525; 0.975; 1"
          dur="20s"
          repeatCount="indefinite"/>
      </g>

    </g>


    <!-- START -->
    <g class="service" transform="translate(10,90)">
      <circle class="highlight" cx="20" cy="20" r="15" fill="#97A7B3" stroke="#97A7B3" stroke-width="2.5" />

      <text x="7" y="22" font-size="8px" font-weight="bold" fill="white">START</text>
    </g>

    <!-- Receiving Keyspace Notification events -->
    <g class="service" transform="translate(110,90)">
      <circle class="highlight" cx="20" cy="20" r="40" fill="none" stroke="#97A7B3" stroke-width="4.5" />

      <g transform="translate(0,3)">
        <path d="m-4 0 v31 h48 v-31" fill="none" stroke="#97A7B3" stroke-width="2" />
        <path d="m-5 0 h50" stroke="#97A7B3" stroke-width="1" />
        <rect x="10" y="3" width="20" height="3" rx="1.5" fill="#DCDFE5" />
        <path d="m-4 8 h48" stroke="#97A7B3" stroke-width="0.5" />
        <rect x="-2" y="9" width="8" height="6" fill="#EB9486" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.48; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="-2" y="16" width="8" height="6" fill="#F3DE8A" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.44; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="-2" y="23" width="8" height="6" fill="#97A7B3" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.4; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="7" y="9" width="8" height="6" fill="#CAE7B9" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.44; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="7" y="16" width="8" height="6" fill="#F3DE8A" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.36; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="7" y="23" width="8" height="6" fill="#CAE7B9" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.36; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="16" y="9" width="8" height="6" fill="#F3DE8A" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.4; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="16" y="16" width="8" height="6" fill="#97A7B3" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.36; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="16" y="23" width="8" height="6" fill="#97A7B3" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.32; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="25" y="9" width="8" height="6" fill="#CAE7B9" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.36; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="25" y="16" width="8" height="6" fill="#97A7B3" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.32; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="25" y="23" width="8" height="6" fill="#F3DE8A" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.28; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="34" y="9" width="8" height="6" fill="#CAE7B9" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.32; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="34" y="16" width="8" height="6" fill="#CAE7B9" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.28; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>
        <rect x="34" y="23" width="8" height="6" fill="#97A7B3" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.24; 1"
            dur="4s"
            repeatCount="indefinite"/>
        </rect>

        <animate attributeType="CSS"
          attributeName="opacity"
          values=  "0; 1  ; 1  ; 0"
          keyTimes="0; 0.2; 0.8; 1"
          dur="4s"
          repeatCount="indefinite"/>
      </g>

      <text x="-28" y="74" class="service_name highlight">Receiving Keyspace</text>
      <text x="-23" y="84" class="service_name highlight">Notification events</text>
    </g>

    <!-- Key Pattern Routing -->
    <g class="service" transform="translate(270,90)">
      <circle class="highlight" cx="20" cy="20" r="40"  fill="none" stroke="#97A7B3" stroke-width="4.5" />

      <g>
        <path d="m20 12.5 v-16.5" fill="none" stroke="#B9BECA" stroke-width="2" stroke-dasharray="1 1" />
        <path d="m26 12.5 v-3 a4 4 0 0 1 4 -4 h7.5" fill="none" stroke="#B9BECA" stroke-width="2" stroke-dasharray="1 1" />
        <path d="m26 27.5 v3 a4 4 0 0 0 4 4 h7.5" fill="none" stroke="#B9BECA" stroke-width="2" stroke-dasharray="1 1" />
        <path d="m20 27.5 v16.5" fill="none" stroke="#B9BECA" stroke-width="2" stroke-dasharray="2 1" />
        <path d="m14 27.5 v3 a4 4 0 0 1 -4 4 h-7.5" fill="none" stroke="#B9BECA" stroke-width="2" stroke-dasharray="1 1" />
        <path d="m14 12.5 v-3 a4 4 0 0 0 -4 -4 h-7.5" fill="none" stroke="#B9BECA" stroke-width="2" stroke-dasharray="1 1" />

        <path d="m-17 15 h27" stroke="#DCDFE5" stroke-width="0.5" stroke-dasharray="2 2" />
        <path d="m-17 25 h27" stroke="#DCDFE5" stroke-width="0.5" stroke-dasharray="2 2" />
        <path d="m0 20 h1.5" stroke="#DCDFE5" stroke-width="7" />
        <path d="m30 15 h27" stroke="#DCDFE5" stroke-width="0.5" stroke-dasharray="2 2" />
        <path d="m30 25 h27" stroke="#DCDFE5" stroke-width="0.5" stroke-dasharray="2 2" />
        <path d="m38.5 20 h1.5" stroke="#DCDFE5" stroke-width="7" />

        <rect x="10" y="12.5" width="20" height="15" rx="3" fill="#DCDFE5" stroke="#DCDFE5" />

        <rect x="14" y="-14" width="12" height="10" rx="2" fill="#B9BECA" stroke="#B9BECA" />
        <rect x="37.5" y="1" width="12" height="10" rx="2" fill="#B9BECA" stroke="#B9BECA" />
        <rect x="37.5" y="29.5" width="12" height="10" rx="2" fill="#B9BECA" stroke="#B9BECA" />
        <rect x="14" y="44" width="12" height="10" rx="2" fill="#B9BECA" stroke="#B9BECA" />
        <rect x="-9.5" y="29.5" width="12" height="10" rx="2" fill="#B9BECA" stroke="#B9BECA" />
        <rect x="-9.5" y="1" width="12" height="10" rx="2" fill="#B9BECA" stroke="#B9BECA" />

        <path d="m-14 20 h34 l6 7.5 v3 a4 4 0 0 0 4 4 h7.5 h6" fill="none" stroke="#D3CE60" stroke-width="7" stroke-linecap="round" stroke-dasharray="0 67" stroke-dashoffset="-66.5" visibility="visible">
          <animate attributeType="CSS"
            attributeName="stroke-dashoffset"
            values=  "0; 0  ; -10 ; -10; -34; -34 ; -66.5; -66.5"
            keyTimes="0; 0.1; 0.15; 0.2; 0.3; 0.35; 0.45 ; 1"
            dur="10s"
            repeatCount="indefinite"/>
        </path>
        <path d="m-14 20 h34 v-29.5" fill="none" stroke="#EB9486" stroke-width="7" stroke-linecap="round" stroke-dasharray="0 64" stroke-dashoffset="-63.5" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.2; 1"
            dur="10s"
            repeatCount="indefinite"/>
          <animate attributeType="CSS"
            attributeName="stroke-dashoffset"
            values=  "0; 0  ; -10; -10 ; -34 ; -34; -63.5; -63.5"
            keyTimes="0; 0.2; 0.3; 0.35; 0.45; 0.5;  0.58 ; 1"
            dur="10s"
            repeatCount="indefinite"/>
        </path>
        <path d="m-14 20 h34 v29.5" fill="none" stroke="#D3CE60" stroke-width="7" stroke-linecap="round" stroke-dasharray="0 64" stroke-dashoffset="-63.5" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.6; 1"
            dur="10s"
            repeatCount="indefinite"/>
          <animate attributeType="CSS"
            attributeName="stroke-dashoffset"
            values=  "0; 0  ; -10 ; -10; -34 ; -34 ; -63.5"
            keyTimes="0; 0.6; 0.65; 0.8; 0.89; 0.93; 1"
            dur="10s"
            repeatCount="indefinite"/>
        </path>
        <path d="m54 20 h-34 l-6 7.5 v3 a4 4 0 0 1 -4 4 h-7.5 h-6" fill="none" stroke="#AAD790" stroke-width="7" stroke-linecap="round" stroke-dasharray="0 67" stroke-dashoffset="-66.5" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.25; 1"
            dur="10s"
            repeatCount="indefinite"/>
          <animate attributeType="CSS"
            attributeName="stroke-dashoffset"
            values=  "0; 0   ; -10 ; -10; -34; -34 ; -66.5; -66.5"
            keyTimes="0; 0.25; 0.35; 0.5; 0.6; 0.65; 0.75 ; 1"
            dur="10s"
            repeatCount="indefinite"/>
        </path>
        <path d="m54 20 h-34 l6 -7.5 v-3 a4 4 0 0 1 4 -4 h7.5 h6" fill="none" stroke="#EB9486" stroke-width="7" stroke-linecap="round" stroke-dasharray="0 67" stroke-dashoffset="-66.5" visibility="hidden">
          <animate attributeType="CSS"
            attributeName="visibility"
            values=  "hidden; visible; visible"
            keyTimes="0; 0.4; 1"
            dur="10s"
            repeatCount="indefinite"/>
          <animate attributeType="CSS"
            attributeName="stroke-dashoffset"
            values=  "0; 0   ; -2  ; -2; -10 ; -10; -34 ; -34; -66.5; -66.5"
            keyTimes="0; 0.4; 0.45; 0.5; 0.6; 0.65; 0.75; 0.8; 0.9  ; 1"
            dur="10s"
            repeatCount="indefinite"/>
        </path>
      </g>

      <text x="-6" y="74" class="service_name highlight">Key Pattern</text>
      <text x="3.5" y="84" class="service_name highlight">Routing</text>
    </g>

    <!-- Processing Data -->
    <g class="service" transform="translate(430,90)">
      <circle class="highlight" cx="20" cy="20" r="40"  fill="none" stroke="#97A7B3" stroke-width="4.5" />

      <g>
        <!-- <circle cx="32" cy="28" r="18.7" /> -->
        <use x="0" y="0" fill="#CAE7B9" xlink:href="#gear" transform="scale(2.65) translate(5.05,2.55)" />
        <!-- <circle cx="32" cy="28" r="6.4" fill="red" /> -->
        <animateTransform dur="3.3s" attributeName="transform" repeatCount="indefinite" type="rotate" from="0,32,28" to="360,32,28" />
      </g>
      <g>
        <!-- <circle cx="2.6" cy="29.4" r="10.2" /> -->
        <use x="0" y="0" fill="#EB9486" xlink:href="#gear" transform="scale(1.4) translate(-5.15,12.95)" />
        <!-- <circle cx="2.6" cy="29.4" r="3.3" fill="red" /> -->
        <animateTransform dur="3.3s" attributeName="transform" repeatCount="indefinite" type="rotate" from="360,2.6,29.4" to="0,2.6,29.4" />
      </g>
      <g>
        <!-- <circle cx="14" cy="1.4" r="13.3" /> -->
        <use x="0" y="0" fill="#F3DE8A" xlink:href="#gear" transform="scale(1.85) translate(0.55,-7.25)" />
        <!-- <circle cx="14" cy="1.4" r="4.7" fill="red" /> -->
        <animateTransform dur="3.3s" attributeName="transform" repeatCount="indefinite" type="rotate" from="360,14,1.4" to="0,14,1.4" />
      </g>

      <text x="-19" y="74" class="service_name highlight">Processing Data</text>
      <text x="-32" y="84" class="service_name highlight">with Scripting Engines</text>
    </g>
  </g>



  <defs>
    <path id="gear" d="m14,9.3l0,-2.57l-1.575,-0.264c-0.117,-0.44 -0.292,-0.848 -0.496,-1.2l0.93,-1.285l-1.81,-1.84l-1.31,0.908c-0.38,-0.205 -0.79,-0.38 -1.196,-0.497l-0.259,-1.552l-2.568,0l-0.263,1.578c-0.437,0.117 -0.816,0.293 -1.196,0.497l-1.282,-0.905l-1.838,1.81l0.934,1.287c-0.2,0.38 -0.376,0.79 -0.493,1.228l-1.578,0.235l0,2.57l1.575,0.264c0.117,0.438 0.292,0.818 0.496,1.198l-0.93,1.315l1.809,1.813l1.312,-0.938c0.38,0.205 0.787,0.38 1.224,0.497l0.26,1.551l2.566,0l0.263,-1.578c0.408,-0.117 0.817,-0.293 1.196,-0.497l1.315,0.935l1.81,-1.812l-0.935,-1.315c0.203,-0.38 0.38,-0.76 0.495,-1.2l1.544,-0.23l0,-0.003zm-7,1.407c-1.488,0 -2.683,-1.2 -2.683,-2.69s1.225,-2.69 2.683,-2.69c1.458,0 2.683,1.198 2.683,2.69c0,1.49 -1.195,2.688 -2.683,2.688l0,0.002z" />

    <!--âš¡-->
    <path id="lightning" d="m6 0 l-6 6 l3 -0.5 l-1 4.5 l6 -6 l-3 0.5 z" />

    <!-- ðŸ—ï¸ -->
    <g id="key">
      <circle cx="2" cy="2" r="2" fill="none" />
      <path d="m2 4 v5 h1.5" fill="none" />
      <path d="m2 7 h1.5" fill="none" />
    </g>
  </defs>
</svg>